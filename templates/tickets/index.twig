{% extends "base.twig" %}
{% block title %}Tickets - Ticketrax{% endblock %}

{% block content %}
<div class="dashboard-container">
  <header class="mobile-header">
    <button id="menu-toggle" aria-label="Toggle sidebar">☰</button>
    <h1 class="mobile-title">Ticketrax</h1>
  </header>

  <aside id="sidebar" class="sidebar">
    <h2 class="logo">Ticketrax</h2>
    <nav>
      <ul>
        <li><a href="/dashboard">Dashboard</a></li>
        <li><a href="/tickets" class="active">Ticket Management</a></li>
        <li><button id="logout-btn" class="logout-btn">Logout</button></li>
      </ul>
    </nav>
  </aside>

  <main class="dashboard-main">
    <div class="content-header">
      <h2>Ticket Management</h2>
      <button id="create-ticket-btn" class="btn-primary">+ Create Ticket</button>
    </div>

    <section id="ticket-list" class="ticket-list"></section>
  </main>
</div>

<!-- Modal (hidden by default) -->
<div id="ticket-modal" class="modal-overlay hidden">
  <div class="modal-content">
    <header>
      <h3 id="modal-title">Create Ticket</h3>
      <button id="close-modal" class="close-btn">✕</button>
    </header>

    <form id="ticket-form">
      <label htmlFor="title">Title</label>
      <input id="ticket-title" type="text" required />

     <label htmlFor="description">Description</label>
      <textarea id="ticket-desc" maxlength="300"></textarea>

      <label htmlFor="status">Status</label>
      <select id="ticket-status">
        <option value="open">Open</option>
        <option value="in_progress">In Progress</option>
        <option value="closed">Closed</option>
      </select>

          <label htmlFor="priority">Priority</label>
      <select id="ticket-priority">
        <option value="low">Low</option>
        <option value="medium">Medium</option>
        <option value="high">High</option>
      </select>

      <button type="submit" class="btn-primary">Save Ticket</button>
    </form>
  </div>
</div>

<!-- Delete confirmation modal -->
<div id="confirm-modal" class="confirm-overlay hidden">
  <div class="confirm-box">
    <h4>Confirm Deletion</h4>
    <p>Are you sure you want to delete this ticket?</p>
    <div class="confirm-actions">
      <button id="cancel-delete">Cancel</button>
      <button id="confirm-delete" class="delete">Yes, Delete</button>
    </div>
  </div>
</div>

<!-- Toast container -->
<div id="toast-container" class="toast-container"></div>

<!-- Scripts -->
<script src="/js/utils/auth.js"></script>
<script src="/js/tickets.js"></script>
{% endblock %}
